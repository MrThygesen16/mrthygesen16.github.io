[{"_path":"/blog/secure-variable-injection","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Secure Environment Variable Injection using AzAPI & AzureRM","description":"2025/08/05","date":"2025/08/05","draft":false,"layout":"full-width","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"secure-environment-variable-injection-using-azapi-azurerm"},"children":[{"type":"text","value":"Secure Environment Variable Injection using AzAPI & AzureRM"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2025/08/05"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"framing-the-problem"},"children":[{"type":"text","value":"Framing the problem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/MrThygesen16/tf-aci-secret-inject","rel":["nofollow"]},"children":[{"type":"text","value":"Full code can be found here."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When creating Container Instances in Azure, it is recommended to provision a Managed Identity alongside the Container Instance. We can use this Managed Identity to generate an Entra ID token & use that for Authentication. A prime example would be provisioning Container Instances for privately hosted Azure DevOps agents."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The benefits of this approach means we don't have to worry about handling secrets; no need for a key-vault or secure variables in Azure DevOps. More importantly, this means we are not writing any secrets to State in Terraform. Writing secrets directly to state leads to a problem called "},{"type":"element","tag":"a","props":{"href":"https://www.hashicorp.com/en/resources/what-is-secret-sprawl-why-is-it-harmful","rel":["nofollow"]},"children":[{"type":"text","value":"\"Secret Sprawl\""}]},{"type":"text","value":":"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Secret Sprawl is the uncontrolled and unmanaged proliferation of sensitive information like API keys, passwords, and encryption keys across an organization's digital environment. This happens when these secrets are scattered across various systems, applications, and even unsecured communication channels without proper tracking or control."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The above solution works well when using a Linux-based container image. For Windows Containers however, it is a different story."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/en-us/azure/container-instances/container-instances-managed-identity#managed-identity-on-windows-containers","rel":["nofollow"]},"children":[{"type":"text","value":"Microsoft Documentation on Container Instances highlights this issue:"}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Managed Identity on Windows container groups works differently than Linux container groups. "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"For Windows containers, metadata server (169.254.169.254) is not available for getting the Microsoft Entra ID token"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The docs further state:"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Az Login module and other client libraries which depend on metadata server (169.254.169.254) will not work in a Windows Container. Additionally, Windows containers in vNet won't be able to connect to the endpoint; hence, a managed identity token can't be generated in a Windows virtual network container."}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Essentially, doing the approach described above (using a managed identity to create an Entra ID token) is not possible."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's take the following Terraform snippet(s) as an example:"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"First we will create a resource group"}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf\nresource \"azurerm_resource_group\" \"this\" {\n  name     = \"rg-acg-example-01\"\n  location = \"AustraliaEast\"\n}\n\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azurerm_resource_group\" \"this\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  name     = \"rg-acg-example-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  location = \"AustraliaEast\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a container group"}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf (cont.) - Insecure Windows Container Group\nresource \"azurerm_container_group\" \"unsecure\" {\n  name                = \"acg-windows-insecure-01\"\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name\n  os_type             = \"Windows\"\n\n  container {\n    name   = \"aci-win-02\"\n    image  = \"mcr.microsoft.com/windows/servercore:ltsc2022\"\n    cpu    = \"0.5\"\n    memory = \"0.5\"\n\n    ports {\n      port     = \"22\"\n      protocol = \"TCP\"\n    }\n\n    commands = []\n    \n    ## secrets added to state\n    environment_variables = { \n        \"non_secure_var\" = \"NonSecureValueExposed\" \n    }\n    # Would be better to pass this in as a variable\n    # but for the sake of this demo -- this is simpler\n    secure_environment_variables = { \n        \"secure_var\" = \"SecureValueExposed\" \n    }\n  }\n}\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf (cont.) - Insecure Windows Container Group\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azurerm_container_group\" \"unsecure\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  name                = \"acg-windows-insecure-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  location            = azurerm_resource_group.this.location\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  resource_group_name = azurerm_resource_group.this.name\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  os_type             = \"Windows\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  container {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    name   = \"aci-win-02\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    image  = \"mcr.microsoft.com/windows/servercore:ltsc2022\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    cpu    = \"0.5\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    memory = \"0.5\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ports {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      port     = \"22\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      protocol = \"TCP\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    commands = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ## secrets added to state\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    environment_variables = { \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        \"non_secure_var\" = \"NonSecureValueExposed\" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # Would be better to pass this in as a variable\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # but for the sake of this demo -- this is simpler\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    secure_environment_variables = { \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        \"secure_var\" = \"SecureValueExposed\" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can check the Azure portal and confirm that our two environment variables have been added to the Container.\nFurthermore, notice that Azure does not display the value of the environment variable "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secure_var"}]},{"type":"text","value":"."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Key"}]},{"type":"element","tag":"th","props":{"align":null},"children":[{"type":"text","value":"Value"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"non_secure_var"}]},{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"NonSecureValue"}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":null},"children":[{"type":"text","value":"secure_var"}]},{"type":"element","tag":"td","props":{"align":null},"children":[]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"However, when we look at our State file, we can see that the secrets - including the secure variable is stored in plain-text."}]},{"type":"element","tag":"code","props":{"className":["language-json"],"code":"// terraform.tfstate\n\"environment_variables\": {\n    \"non_secure_var\": \"NonSecureValue\"\n},\n\"secure_environment_variables\": {\n    \"secure_var\": \"SecureValue\"\n},\n","language":"json","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"// terraform.tfstate\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"environment_variables\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"\"non_secure_var\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"NonSecureValue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"secure_environment_variables\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"\"secure_var\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"SecureValue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"},"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unfortunately, this means that anyone who has read-access to state can view these secrets."}]},{"type":"element","tag":"h2","props":{"id":"solution"},"children":[{"type":"text","value":"Solution"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can solve this issue by using AzAPI."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create another Container group; this time we don't add the secrets in, and instead add a lifecycle ignore block on the environment variables object (otherwise Terraform will complain)"}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf (cont.) Secure Windows Container Group\nresource \"azurerm_container_group\" \"secure\" {\n  name                = \"acg-windows-secure-01\"\n  location            = azurerm_resource_group.this.location\n  resource_group_name = azurerm_resource_group.this.name\n  os_type             = \"Windows\"\n\n  container {\n    name   = \"aci-win-01\"\n    image  = \"mcr.microsoft.com/windows/servercore:ltsc2022\"\n    cpu    = \"0.5\"\n    memory = \"0.5\"\n\n    ports {\n      port     = \"22\"\n      protocol = \"TCP\"\n    }\n\n    ## let azapi inject these secrets\n    # commands = []\n    # environment_variables = {}\n  }\n\n  lifecycle {\n    ignore_changes = [\n      container[0].environment_variables,\n      container[0].commands,\n    ]\n  }\n}\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf (cont.) Secure Windows Container Group\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azurerm_container_group\" \"secure\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  name                = \"acg-windows-secure-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  location            = azurerm_resource_group.this.location\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  resource_group_name = azurerm_resource_group.this.name\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  os_type             = \"Windows\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  container {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    name   = \"aci-win-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    image  = \"mcr.microsoft.com/windows/servercore:ltsc2022\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    cpu    = \"0.5\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    memory = \"0.5\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ports {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      port     = \"22\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      protocol = \"TCP\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ## let azapi inject these secrets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # commands = []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    # environment_variables = {}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  lifecycle {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ignore_changes = [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      container[0].environment_variables,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      container[0].commands,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Next we use AzAPI to Stop the container by sending a POST request to the Container Group"}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf (cont.) stop container group\nresource \"azapi_resource_action\" \"stop_container_group\" {\n  type        = \"Microsoft.ContainerInstance/containerGroups@2023-05-01\"\n  resource_id = azurerm_container_group.secure.id\n  action      = \"stop\"\n  method      = \"POST\"\n}\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf (cont.) stop container group\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azapi_resource_action\" \"stop_container_group\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  type        = \"Microsoft.ContainerInstance/containerGroups@2023-05-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  resource_id = azurerm_container_group.secure.id\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  action      = \"stop\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  method      = \"POST\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":3},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Also using AzAPI, we use the resource "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"update_resource"}]},{"type":"text","value":" to inject the variables."}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf (cont.) inject secrets\nresource \"azapi_update_resource\" \"inject_secrets\" {\n  type        = \"Microsoft.ContainerInstance/containerGroups@2023-05-01\"\n  resource_id = azurerm_container_group.secure.id\n  \n  # rather than using `body`, we use `sensitive_body`\n  sensitive_body = {\n    properties = {\n      containers = [\n        {\n          name = azurerm_container_group.secure.container[0].name\n          properties = {\n            environmentVariables = [\n              {\n                name  = \"non_secure_var\"\n                value = \"NonSecureValueHidden\"\n              },\n              {\n                name        = \"secure_var\"\n                secureValue = \"SecureValueHidden\"\n              }\n            ]\n          }\n        }\n      ]\n    }\n  }\n}\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf (cont.) inject secrets\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azapi_update_resource\" \"inject_secrets\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  type        = \"Microsoft.ContainerInstance/containerGroups@2023-05-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  resource_id = azurerm_container_group.secure.id\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  # rather than using `body`, we use `sensitive_body`\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  sensitive_body = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    properties = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      containers = [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          name = azurerm_container_group.secure.container[0].name\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          properties = {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            environmentVariables = [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"              {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                name  = \"non_secure_var\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                value = \"NonSecureValueHidden\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"              },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"              {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                name        = \"secure_var\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                secureValue = \"SecureValueHidden\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"              }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"            ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"          }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"      ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason we are able to update these values and not have them written to state is due to the introduction of "},{"type":"element","tag":"a","props":{"href":"https://registry.terraform.io/providers/Azure/azapi/latest/docs/guides/feature_ephemeral_resource#write-only-attributes","rel":["nofollow"]},"children":[{"type":"text","value":"\"Ephemeral Resources & Write-Only Attributes in Terraform\""}]},{"type":"text","value":":"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Write-only arguments let you securely pass temporary values to Terraform's managed resources during an operation without persisting those values to state or plan files."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The AzAPI provider supports sensitive_body to define attributes that are not stored in the state file, ensuring sensitive information remains secure"}]}]},{"type":"element","tag":"ol","props":{"start":4},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lastly, we start the container group again."}]}]},{"type":"element","tag":"code","props":{"className":["language-terraform"],"code":"# main.tf (cont.) start container group\nresource \"azapi_resource_action\" \"start_container_group\" {\n  type        = \"Microsoft.ContainerInstance/containerGroups@2022-05-01\"\n  resource_id = azurerm_container_group.secure.id\n  action      = \"start\"\n  method      = \"POST\"\n\n  depends_on = [\n    azapi_update_resource.inject_secrets, \n    azapi_resource_action.stop_container_group\n  ]\n}\n","language":"terraform","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# main.tf (cont.) start container group\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"resource \"azapi_resource_action\" \"start_container_group\" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  type        = \"Microsoft.ContainerInstance/containerGroups@2022-05-01\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  resource_id = azurerm_container_group.secure.id\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  action      = \"start\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  method      = \"POST\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  depends_on = [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    azapi_update_resource.inject_secrets, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    azapi_resource_action.stop_container_group\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is purely anecdotal, but I've found that stopping, injecting secrets, and then starting the container group yields more consistent results."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Finally, when we take a look at the state file for the container where we injected the secrets, we can see that neither the non-secure, nor the secure environment variables have been written to state."}]},{"type":"element","tag":"code","props":{"className":["language-json"],"code":"// terraforn.tfstate\n\"environment_variables\": null,\n\"secure_environment_variables\": null\n","language":"json","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"// terraforn.tfstate\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"environment_variables\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"secure_environment_variables\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"null"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-128513{color:#8B949E;}\n.ct-128513{color:#6E7781;}\n.dark .ct-667011{color:#A5D6FF;}\n.ct-667011{color:#0A3069;}\n.dark .ct-935781{color:#C9D1D9;}\n.ct-935781{color:#24292F;}\n.dark .ct-238295{color:#7EE787;}\n.ct-238295{color:#116329;}\n.dark .ct-998471{color:#79C0FF;}\n.ct-998471{color:#0550AE;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"framing-the-problem","depth":2,"text":"Framing the problem"},{"id":"solution","depth":2,"text":"Solution"}]}},"_type":"markdown","_id":"content:4.blog:secure-variable-injection.MD","_source":"content","_file":"4.blog/secure-variable-injection.MD","_extension":"MD"},{"_path":"/blog/syntax-highlight-python","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Syntax Highlighting in Python","description":"2023/02/09","date":"2023/02/09","draft":false,"layout":"full-width","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"syntax-highlighting-in-python"},"children":[{"type":"text","value":"Syntax Highlighting in Python"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2023/02/09"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"code-to-format"},"children":[{"type":"text","value":"Code to format"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This blog is how to use Python to enable syntax highlighting in a markdown code snippet. The result is HTML/CSS that can be used and displayed on a site."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This was a solution that I was using in my old personal site/blog."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Take the code block below as an example. As of now there is no syntax highlighting."}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"if __name__ == '__main__':\r\n    print('hello world!')\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"if __name__ == '__main__':\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"    print('hello world!')"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"requirements"},"children":[{"type":"text","value":"Requirements"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"pip install markdown2\r\npip install Pygments\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pip install markdown2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pip install Pygments"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After installing these two packages, we will create a python file named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"test.py"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This snippet imports the markdown2 package, and uses it to convert the read md file (as a string), and write its contents as a HTML file."}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"# test.py\r\n\r\nimport markdown2\r\n\r\nwith open(\"test.md\",\"r\") as f:\r\n    text = f.read()\r\n\r\npage =  markdown2.markdown(text,extras=['fenced-code-blocks', 'code-friendly']) \r\n\r\nwith open('test.html', 'w') as output_file:\r\n        output_file.write(page)\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"# test.py\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" markdown2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"test.md\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":","}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"r\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" f:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    text "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" f.read()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"page "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"  markdown2.markdown(text,"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":"extras"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'fenced-code-blocks'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'code-friendly'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"]) \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"with"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"open"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'test.html'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'w'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" output_file:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        output_file.write(page)"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The result of this script can be seen below:"}]},{"type":"element","tag":"code","props":{"className":["language-html"],"code":"<!-- test.html -->\r\n\r\n<div class=\"codehilite\">\r\n    <pre>\r\n        <span>\r\n        </span>\r\n        <code>\r\n            <span class=\"k\">if</span> \r\n            <span class=\"vm\">__name__</span> \r\n            <span class=\"o\">==</span>\r\n             <span class=\"s1\">&#39;__main__&#39;</span>\r\n             <span class=\"p\">:</span>\r\n            <span class=\"nb\">print</span>\r\n            <span class=\"p\">(</span>\r\n            <span class=\"s1\">&#39;hello world!&#39;</span>\r\n            <span class=\"p\">)</span>\r\n        </code>\r\n    </pre>\r\n</div>\n","language":"html","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"<!-- test.html -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"codehilite\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"k\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">if</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"> \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"vm\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">__name__</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"> \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"o\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">==</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"             <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"s1\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"__main__"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"             <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">:</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"nb\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">print</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">(</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"s1\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"hello world!"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">)</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"However, when previewing this file in your browser, it will still appear to not have any syntax highlighting. This is due to a key component being missin - CSS. This is where the python module "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pygmentize"}]},{"type":"text","value":" comes into use."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Open a terminal instance and enter the following commmand:"}]},{"type":"element","tag":"code","props":{"className":["language-bash"],"code":"pygmentize -S default -f html > test.css\n","language":"bash","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":"pygmentize"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"-S"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"-f"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"test.css"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will create a file called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"test.css"}]},{"type":"text","value":". Some of its contents can be seen below (there's a lot of lines)."}]},{"type":"element","tag":"code","props":{"className":["language-css"],"code":"/* test.css */\r\n\r\npre { line-height: 125%; }\r\ntd.linenos .normal { color: inherit; background-color: #eee; padding-left: 5px; padding-right: 5px; }\r\nspan.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }\r\ntd.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }\r\nspan.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }\r\n.hll { background-color: #ffffcc }\r\n.c { color: #3D7B7B; font-style: italic } /* Comment */\r\n.err { border: 1px solid #FF0000 } /* Error */\r\n.k { color: #008000; font-weight: bold } /* Keyword */\r\n.o { color: #666666 } /* Operator */\r\n.ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */\r\n/* \r\n    etc.\r\n*/\n","language":"css","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* test.css */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"line-height"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"125"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"%"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"td"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".linenos"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".normal"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"inherit"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"background-color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#eee"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-left"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-right"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".linenos"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"inherit"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"background-color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"transparent"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-left"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-right"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"td"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".linenos"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".special"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#000000"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"background-color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#ffffc0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-left"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-right"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".linenos.special"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#000000"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"background-color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#ffffc0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-left"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"padding-right"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".hll"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"background-color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#ffffcc"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".c"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#3D7B7B"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"font-style"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"italic"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* Comment */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".err"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"border"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"px"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"solid"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#FF0000"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* Error */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".k"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#008000"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"font-weight"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"bold"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* Keyword */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".o"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#666666"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* Operator */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":".ch"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"#3D7B7B"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"font-style"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"italic"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* Comment.Hashbang */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"/* \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"    etc.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"*/"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next, all we need to do is add this file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"test.css"}]},{"type":"text","value":" to our HTML file "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"test.html"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"className":["language-html"],"code":"<!-- test.html -->\r\n\r\n<link rel=\"stylesheet\" href=\"test.css\">\r\n\r\n<div class=\"codehilite\">\r\n    <pre>\r\n        <span>\r\n        </span>\r\n        <code>\r\n            <span class=\"k\">if</span> \r\n            <span class=\"vm\">__name__</span> \r\n            <span class=\"o\">==</span>\r\n             <span class=\"s1\">&#39;__main__&#39;</span>\r\n             <span class=\"p\">:</span>\r\n            <span class=\"nb\">print</span>\r\n            <span class=\"p\">(</span>\r\n            <span class=\"s1\">&#39;hello world!&#39;</span>\r\n            <span class=\"p\">)</span>\r\n        </code>\r\n    </pre>\r\n</div>\n","language":"html","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"<!-- test.html -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"link"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"rel"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"stylesheet\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"href"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"test.css\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"codehilite\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"k\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">if</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"> \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"vm\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">__name__</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"> \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"o\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">==</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"             <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"s1\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"__main__"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"             <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">:</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"nb\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">print</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">(</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"s1\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"hello world!"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"&#39;"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"            <"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"class"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"p\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">)</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"span"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-238295"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now when we reload the HTML file, it should have syntax highlighting!"}]},{"type":"element","tag":"code","props":{"className":["language-python"],"code":"if __name__ == '__main__':\r\n    print('hello world!')\n","language":"python","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"__name__"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'__main__'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":":\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"print"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"'hello world!'"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-128513{color:#8B949E;}\n.ct-128513{color:#6E7781;}\n.dark .ct-942366{color:#FF7B72;}\n.ct-942366{color:#CF222E;}\n.dark .ct-935781{color:#C9D1D9;}\n.ct-935781{color:#24292F;}\n.dark .ct-998471{color:#79C0FF;}\n.ct-998471{color:#0550AE;}\n.dark .ct-667011{color:#A5D6FF;}\n.ct-667011{color:#0A3069;}\n.dark .ct-443230{color:#FFA657;}\n.ct-443230{color:#953800;}\n.dark .ct-238295{color:#7EE787;}\n.ct-238295{color:#116329;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"code-to-format","depth":2,"text":"Code to format"}]}},"_type":"markdown","_id":"content:4.blog:3.syntax-highlight-python.MD","_source":"content","_file":"4.blog/3.syntax-highlight-python.MD","_extension":"MD"},{"_path":"/blog/fib-dynamic","_dir":"blog","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Calculating nth Fibonacci Number in Linear Time","description":"2022/08/20","date":"2022/08/20","draft":false,"layout":"full-width","body":{"type":"root","children":[{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h1","props":{"id":"calculating-nth-fibonacci-number-in-linear-time"},"children":[{"type":"text","value":"Calculating nth Fibonacci Number in Linear Time"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2022/08/20"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"background"},"children":[{"type":"text","value":"Background"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The Fibonnaci Sequence is a series of numbers in which each number ( Fibonacci number ) is the sum of the two preceding numbers. The simplest is the series 1, 1, 2, 3, 5, 8, etc."}]}]},{"type":"element","tag":"h2","props":{"id":"recursive-approach"},"children":[{"type":"text","value":"Recursive Approach"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the above defintion we can define a recursive formula for generating numbers in the fibonacci sequence as follows:"}]},{"type":"element","tag":"code","props":{"className":["language-rust"],"code":"fib (n) = fib(n-1) + fib(n-2) \n","language":"rust","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"fib (n) "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"fib"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"(n"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"fib"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"(n"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The resulting function in a program might look like:"}]},{"type":"element","tag":"code","props":{"className":["language-rust"],"code":"def fib(n: int) -> int {\r\n\r\n    match n {\r\n        1       => 0,\r\n        2 | 3   => 1,\r\n        _       => { return fib(n-1) + fib(n-2); }, \r\n    }\r\n}\n","language":"rust","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"def "}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"fib"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"(n"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" int) "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"->"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" int {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"match"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" n {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"       "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"   "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"        _       "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"fib"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"(n"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"fib"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"(n"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"); }, \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Note: I've chosen to implement this in a Rust/Scala like fashion. Structural pattern matching is just too good. I will definitely be doing a writeup on it in the future."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For reference, the first 15 Fibonacci numbers are:"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"1   2   3   4   5   6   7   8   9   10  11  12  13   14   15\r\n0   1   1   2   3   5   8   13  21  34  55  89  144  233  377\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"1   2   3   4   5   6   7   8   9   10  11  12  13   14   15\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"0   1   1   2   3   5   8   13  21  34  55  89  144  233  377"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Unfortunately, calculating numbers in the fibonacci sequence using the function or formula above extremely inefficient. The time complexity of this algorithm (in terms of worst case) is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"O(2^n)"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To put that in perspective, calcuating the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"50th"}]},{"type":"text","value":" fibonacci number in the sequence would take:"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"2 ^ 42 = 4398046511104 units of time \r\n\r\n(if the unit is milliseconds, it would take 50903 days!)\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2 ^ 42 = 4398046511104 units of time \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"(if the unit is milliseconds, it would take 50903 days!)"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The reason for this extremely large cost is due to recalculating values we have already seen."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As a tree, finding the 5th number of the sequence would look like the following:"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"                                           f(5)\r\n                                      /           \\\r\n                                    f(4)          f(3)\r\n                                  /     \\         / \\\r\n                                f(3)    f(2)   f(2)  1\r\n                                / \\     / \\     / \\\r\n                              f(2) 1   1   0   1   0\r\n                              / \\\r\n                             1   0\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                           f(5)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                      /           \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                    f(4)          f(3)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                  /     \\         / \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                f(3)    f(2)   f(2)  1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                / \\     / \\     / \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                              f(2) 1   1   0   1   0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                              / \\\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                             1   0"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To calcuate the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"5th"}]},{"type":"text","value":" fibonacci number we are recaclulating:"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"f(3) -> 2 times\r\nf(2) -> 3 times\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"f(3) -> 2 times\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"f(2) -> 3 times"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"tabulation-approach"},"children":[{"type":"text","value":"Tabulation Approach"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As the name would suggest, tabulation relies heavily on understanding arrays."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following snippet of code takes an array of length "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" and a target "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":" (in this case our target is 15). The total complexity for this approach is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"O(n)"}]},{"type":"text","value":". Since all we are doing is iterating through a loop from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"2"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":", hence a linear time complexity."}]},{"type":"element","tag":"code","props":{"className":["language-java"],"code":"Long[] fibList = {(long) 0 , (long) 1};\r\n\r\nint target = 15;\r\n \r\nSystem.out.println(\"1: 0 \\n2: 1\");\r\n\r\n// this is known as tabulation:\r\n// aka bottom-up\r\nfor (int i = 2; i < target; i++){\r\n\r\n    long temp = fibList[0] + fibList[1];\r\n    System.out.println((i+1) + \": \" + temp);\r\n    \r\n    fibList[0] = fibList[1];\r\n    fibList[1] = temp;\r\n}\r\n\r\n System.out.println(\"=== Target Found ===\");\n","language":"java","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"Long"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":"[] "}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"fibList"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" {("}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"long"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" , ("}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"long"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"};\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"target"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"15"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"System.out."}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"println"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"1: 0 "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"\\n"}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"2: 1\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":");\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"// this is known as tabulation:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-128513"},"children":[{"type":"text","value":"// aka bottom-up\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"for"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"int"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"; i "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" target; i"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"){\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"long"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"temp"}]},{"type":"element","tag":"span","props":{"class":"ct-443230"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" fibList["}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" fibList["}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"];\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    System.out."}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"println"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"((i"}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\": \""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"+"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" temp);\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    fibList["}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" fibList["}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"];\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"    fibList["}]},{"type":"element","tag":"span","props":{"class":"ct-998471"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-942366"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" temp;\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":" System.out."}]},{"type":"element","tag":"span","props":{"class":"ct-923966"},"children":[{"type":"text","value":"println"}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-667011"},"children":[{"type":"text","value":"\"=== Target Found ===\""}]},{"type":"element","tag":"span","props":{"class":"ct-935781"},"children":[{"type":"text","value":");"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The array is initialized to the first and second numbers of the sequence "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{0,1}"}]},{"type":"text","value":". From here we calculate the value of the next number of the sequence by adding the previous two numbers together. Not only is this highly-efficient in terms of time complexity when compared to the naive approach above, it is also extremely efficient in terms of memory usage. One of the issue with the recursive approach is that for each recursive call we are pushing a frame onto the stack. For a large enough value of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"n"}]},{"type":"text","value":", this may cause a stack overflow error. In which case the program will crash."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"target = 15"}]},{"type":"text","value":", the output of the program displays:"}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"1: 0\r\n2: 1\r\n3: 1\r\n4: 2\r\n5: 3\r\n6: 5\r\n7: 8\r\n8: 13\r\n9: 21\r\n10: 34\r\n11: 55\r\n12: 89\r\n13: 144\r\n14: 233\r\n15: 377\r\n=== Target Found ===\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"1: 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"2: 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"3: 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"4: 2\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"5: 3\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"6: 5\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"7: 8\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"8: 13\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"9: 21\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"10: 34\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"11: 55\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"12: 89\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"13: 144\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"14: 233\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"15: 377\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"=== Target Found ==="}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If we refer to the sequence provided above, we can verify that this result is correct."}]},{"type":"element","tag":"code","props":{"className":["language-undefined"],"code":"                                           5   [t]\r\n                                         /      ^     \r\n                                        3       |       \r\n                                       /        |     \r\n                                      2         |     \r\n                                     /          | \r\n                                    1           |\r\n                                   /            |\r\n                                  1             |\r\n                                 /          Start with\r\n                                0             1 & 0\r\n                                            And work up\n"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                           5   [t]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                         /      ^     \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                        3       |       \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                       /        |     \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                      2         |     \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                     /          | \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                    1           |\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                   /            |\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                  1             |\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                 /          Start with\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                0             1 & 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"                                            And work up"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is what is known as a \"bottom-up\" approach. Rather than trying to start at the target index and work our way down to our base cases "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{0,1}"}]},{"type":"text","value":", we instead start at these cases and work our way to our target index."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-935781{color:#C9D1D9;}\n.ct-935781{color:#24292F;}\n.dark .ct-942366{color:#FF7B72;}\n.ct-942366{color:#CF222E;}\n.dark .ct-923966{color:#D2A8FF;}\n.ct-923966{color:#8250DF;}\n.dark .ct-998471{color:#79C0FF;}\n.ct-998471{color:#0550AE;}\n.dark .ct-443230{color:#FFA657;}\n.ct-443230{color:#953800;}\n.dark .ct-667011{color:#A5D6FF;}\n.ct-667011{color:#0A3069;}\n.dark .ct-128513{color:#8B949E;}\n.ct-128513{color:#6E7781;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"background","depth":2,"text":"Background"},{"id":"recursive-approach","depth":2,"text":"Recursive Approach"},{"id":"tabulation-approach","depth":2,"text":"Tabulation Approach"}]}},"_type":"markdown","_id":"content:4.blog:2.fib-dynamic.MD","_source":"content","_file":"4.blog/2.fib-dynamic.MD","_extension":"MD"}]